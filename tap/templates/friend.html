<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$BLAZE</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="manifest" href="{% static 'json/manifest.json' %}">
    <meta name="theme-color" content="#ff9800">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

</head>
<body>
    <div class="friends-container">
        <h1 class="friends-title">ğŸ‘¥ Friends</h1>
        <button class="invite-button" onclick="location.href='https://t.me/tap_blaze_bot?start=invite'">Invite a Friend</button>
        <p class="reward-text">5 000 000 $BLZ per invited friend</p>
        <div class="invited-friends-box">
            {% if friends %}
                <ul>
                    {% for friend, invite_link in friends %}
                        <li>{{ friend.username }} - <a href="{{ invite_link }}" target="_blank">Invite Link</a> <button onclick="copyInviteLink('{{ invite_link }}')">Copy Invite Link</button></li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="no-friends">You have no Friends ğŸ˜¢</p>
            {% endif %}
        </div>
    </div>
    <div class="buttons">
        <button onclick="location.href='{% url 'boost' %}'" id="boost-btn">âš¡ Boost</button>
        <button onclick="location.href='{% url 'task' %}'" id="tasks-btn">ğŸ“‹ Tasks</button>
        <button onclick="location.href='{% url 'home' %}'">ğŸ ï¸ Home</button>
    </div>

    <script src="{% static 'js/script.js' %}"></script>
    <script>
            function copyInviteLink(link) {
                navigator.clipboard.writeText(link)
                    .then(() => {
                        console.log('Invite link copied to clipboard!');
                        alert('Invite link copied to clipboard!');
                    })
                .catch(err => {
                    console.error('Could not copy text:', err);
                    alert('Could not copy text: ' + err);
                });
            }
    </script>
</body>
</html>
